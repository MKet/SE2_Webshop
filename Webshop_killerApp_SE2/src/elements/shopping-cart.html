<template>
  <require from="../valueConverters/priceValueConverter"></require>
  <div class="panel panel-default">
    <div class="panel-heading">Cart:</div>
    <div class="panel-body table-responsive" if.bind="!isEmpty">
      <table class="table table-striped">
        <tr repeat.for="item of value">
          <td>${item.name}</td>
          <td>${item.price | price}</td>
          <td>${item.author}</td>
          <td><button class="btn" click.delegate="removeProduct(item)"><span class="glyphicon glyphicon-remove"></span></button></td>
        </tr>
      </table>
      <p>Total price: ${sum | price}</p>
      <a class="btn" route-href="route: OrderConfirmation">Order</a>
    </div>
    <div if.bind="isEmpty">
      The cart is empty :(
    </div>
  </div>
</template>