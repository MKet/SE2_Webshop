{"version":3,"sources":["src/app.ts","src/authConfig.ts","src/environment.ts","src/main.ts","src/components/catalog.ts","src/components/error-404.ts","src/components/home.ts","src/components/login.ts","src/components/orderconfirmation.ts","src/components/ordered-products.ts","src/components/orderlist.ts","src/components/productDetail.ts","src/elements/product-item.ts","src/elements/shopping-cart.ts","src/entities/Category.ts","src/entities/Format.ts","src/entities/Log.ts","src/entities/Order.ts","src/entities/Product.ts","src/entities/Review.ts","src/entities/Tag.ts","src/entities/User.ts","src/resources/index.ts","src/services/CartService.ts","src/services/catalogService.ts","src/services/OrderService.ts","src/services/UserService.ts","src/valueConverters/priceValueConverter.ts","resources/style.scss"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["import { autoinject } from 'aurelia-framework';\r\nimport 'bootstrap';\r\nimport { Router, RouterConfiguration, NavigationInstruction, Next, Redirect } from 'aurelia-router'\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { FetchConfig, AuthService } from 'aurelia-authentication';\r\nimport { EventAggregator, Subscription } from 'aurelia-event-aggregator';\r\nimport * as jwt_decode from 'jwt-decode';\r\n\r\n@autoinject\r\nexport class App {\r\n\r\n    public userId: string;\r\n    private subscription: Subscription;\r\n\r\n    constructor(private http: HttpClient,\r\n        private router: Router,\r\n        routerConfig: RouterConfiguration,\r\n        private config: FetchConfig,\r\n        private auth: AuthService,\r\n        private eventAggregator: EventAggregator) {\r\n        this.configHttp(http);\r\n        this.configureRouter(routerConfig);\r\n    }\r\n\r\n    public attached() {\r\n        // ReSharper disable once TsResolvedFromInaccessibleModule\r\n        if (this.auth.authenticated) this.userId = jwt_decode(this.auth.getAccessToken()).userid;\r\n\r\n        this.subscription = this.eventAggregator.subscribe('authentication-change',\r\n            () => {\r\n                // ReSharper disable once TsResolvedFromInaccessibleModule\r\n                if (this.auth.authenticated) {\r\n                    this.userId = jwt_decode(this.auth.getAccessToken()).userid;\r\n                } else {\r\n                    this.userId = null;\r\n                }\r\n                this.router.navigateToRoute('home');\r\n            });\r\n    }\r\n\r\n    public detached() {\r\n        this.subscription.dispose();\r\n    }\r\n\r\n    async logout() {\r\n        this.auth.logout();\r\n    }\r\n\r\n    configureRouter(config: RouterConfiguration) : void {\r\n        config.title = 'Aurelia';\r\n        config.options.pushState = true;\r\n        config.map([\r\n            { title: 'Home', route: ['', 'home'], name: 'home', moduleId: 'components/home', nav: true },\r\n            { title: 'Catalog', route: 'catalog/', name: 'catalog', moduleId: 'components/catalog', nav: true },\r\n            { title: 'Catalog', route: 'catalog/:number', name: 'catalogNum', moduleId: 'components/catalog' },\r\n            { title: 'Product', route: 'catalog/product/:id', name: 'product', moduleId: 'components/productDetail' },\r\n            { title: 'My Products', route: 'my-products', name: 'orderedProducts', moduleId: 'components/ordered-products', auth: true },\r\n            { title: 'My Order', route: 'my-order', name: 'MyOrders', moduleId: 'components/orderlist', auth: true },\n            { title: 'Order Confirmation', route: 'order-confirm', name: 'OrderConfirmation', moduleId: 'components/orderconfirmation', auth: true },\r\n            { title: 'Login', route: 'login', name: 'login', moduleId: 'components/login' }\r\n        ]);\r\n        config.addPipelineStep('authorize', AuthorizeStep);\r\n        config.mapUnknownRoutes('error-404');\r\n    }\r\n\r\n    configHttp(http): void {\r\n        http.configure(config => {\r\n            config\r\n                .withBaseUrl('api')\r\n                .withDefaults({\r\n                    method: \"POST\",\r\n                    credentials: 'same-origin',\r\n                    headers: {\r\n                        'Accept': 'application/json',\r\n                        'X-Requested-With': 'Fetch'\r\n                    }\r\n                })\r\n                .withInterceptor({\r\n                    request(request) {\r\n                        console.log(`Requesting ${request.method} ${request.url}`);\r\n                        return request;\r\n                    },\r\n                    response(response: Response) {\r\n                        console.log(`Received ${response.status} ${response.url}`);\r\n                        return response;\r\n                    }\r\n                });\r\n        });\r\n    }\r\n}\r\n\r\n@autoinject\r\nclass AuthorizeStep {\r\n    constructor(private authService: AuthService) { }\r\n\r\n    run(navigationInstruction: NavigationInstruction, next: Next): Promise<any> {\r\n        if (navigationInstruction.getAllInstructions().some(i => i.config.auth)) {\r\n            let isLoggedIn = this.authService.isAuthenticated();\r\n            if (!isLoggedIn) {\r\n                return next.cancel(new Redirect('login'));\r\n            }\r\n        }\r\n        return next();\r\n    }\r\n}","﻿var config = {\r\n\r\n}\r\n\r\n\r\nexport default config;\r\n","export default {\n  debug: true,\n  testing: true\n};\n","import {Aurelia} from 'aurelia-framework'\r\nimport environment from './environment';\r\nimport config from './authConfig';\r\n\r\nexport function configure(aurelia: Aurelia) {\r\n  aurelia.use\r\n    .standardConfiguration()\r\n    .feature('resources')\r\n    .plugin('aurelia-authentication',\r\n      (baseConfig) => {\r\n          baseConfig.configure(config);\r\n      });\r\n\r\n  if (environment.debug) {\r\n    aurelia.use.developmentLogging();\r\n  }\r\n\r\n  if (environment.testing) {\r\n    aurelia.use.plugin('aurelia-testing');\r\n  }\r\n\r\n  aurelia.start().then(() => aurelia.setRoot());\r\n}\r\n","import { autoinject } from 'aurelia-framework';\r\nimport { catalogService, PageResponse } from '../services/catalogService';\r\nimport { CartService } from '../services/CartService';\r\nimport { Product } from '../entities/Product';\r\nimport { Category } from '../entities/Category';\r\n\r\n@autoinject\r\nexport class Catalog {  \r\n    \r\n    products: Product[] = [];\r\n    categories: Category[] = [];\r\n\r\n    selectedCategory: number = null;\r\n    pageAmount: number = 1;\r\n    number: number = 1;\r\n\r\n    constructor(private catalogService: catalogService, private cartService: CartService) { }\r\n\r\n    async attached() {\r\n        this.categories = await this.catalogService.getTopLevelCategories();\r\n    }\r\n\r\n    async refreshPage(pageNumber: number) : Promise<void>{\r\n        let page: PageResponse;\r\n        if (this.selectedCategory == null) {\r\n            page = await this.catalogService.getPage(pageNumber);\r\n        } else {\r\n            page = await this.catalogService.getPageWithCategory(pageNumber, this.selectedCategory);\r\n        }\r\n        this.products = page.item1;\r\n        this.pageAmount = page.item2;\r\n    }\r\n\r\n    async activate(params, routeConfig) {\r\n        if (params.number != null)\r\n            this.number = params.number;\r\n        else\r\n            this.number = 1;\r\n        await this.refreshPage(this.number);\r\n    }\r\n}","export class Error404 {    \n  message: string;\n  \n  constructor() {\n    this.message = 'Hello world';\n  }\n}","export class Home {    \n  message: string;\n  \n  constructor() {\n    this.message = 'Hello world';\n  }\n}","import { RouterConfiguration, Router } from 'aurelia-router';\r\nimport { autoinject } from 'aurelia-framework';\r\nimport { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { FetchConfig, AuthService } from 'aurelia-authentication';\r\nimport { User } from '../entities/User';\r\nimport { UserService } from '../services/UserService';\r\n\r\n@autoinject\r\nexport class login {\r\n    username: string = '';\r\n    password: string = '';\r\n\r\n    newUser: User;\r\n    newPassword: string = '';\r\n\r\n    message: string;\r\n    constructor(private http: HttpClient, private auth: AuthService, private userService: UserService, private router: Router) {\r\n        this.newUser = new User();\r\n    }\r\n\r\n    async login() {\r\n\r\n        await this.auth.login({\r\n            \"username\": this.username,\r\n            \"password\": this.password\r\n        }).catch(Error => {\r\n            this.message = Error.response;\r\n        });\r\n    }\r\n\r\n    async register() {\r\n        await this.userService.Register(this.newUser, this.newPassword);\r\n\r\n        await this.auth.login({\r\n            \"username\": this.newUser.username,\r\n            \"password\": this.newPassword\r\n        }).catch(Error => {\r\n            this.message = Error.response;\r\n        });\r\n    }\r\n\r\n    async logout() {\r\n        this.auth.logout('');\r\n    }\r\n\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { Product } from \"../entities/Product\";\r\nimport { CartService } from \"../services/CartService\";\nimport { OrderService } from \"../services/OrderService\";\r\nimport { AuthService } from 'aurelia-authentication';\nimport { Router } from 'aurelia-router';\r\nimport * as jwt_decode from 'jwt-decode';\n\r\n@autoinject\r\nexport class OrderConfirmation {\r\n    value: Product[] = [];\n    discount: string;\r\n\r\n    constructor(private cartService: CartService, private orderService: OrderService, private auth: AuthService, private router: Router) { }\r\n\r\n    get isEmpty(): boolean {\r\n        return this.value == null || this.value.length === 0;\r\n    }\r\n\r\n    async attached() {\r\n        this.value = await this.cartService.getCart();\r\n    }\r\n\r\n    async addOrder() {\r\n        this.value = await this.cartService.getCart();\n        \r\n        let userid = jwt_decode(this.auth.getAccessToken()).userid;\n\n        if (!await this.orderService.addOrder(userid, this.discount, this.value))\n            alert(\"placing order failed\");\n        else {\n            await this.cartService.emptyCart();\n            this.router.history.navigateBack();\r\n        }\n\r\n    }\r\n\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { OrderService } from '../services/OrderService';\r\nimport { Product } from '../entities/Product';\r\nimport { AuthService } from 'aurelia-authentication';\r\nimport * as jwt_decode from 'jwt-decode';\r\n\r\n@autoinject\r\nexport class OrderedProducts {    \r\n    products: Product[];\r\n  \r\n    constructor(private OrderService: OrderService, private auth: AuthService) { }\r\n\r\n    async attached() {\r\n        let userid = jwt_decode(this.auth.getAccessToken()).userid;\r\n        this.products = await this.OrderService.getOrderedProducts(userid);\r\n    }\r\n\r\n    get isEmpty(): boolean {\r\n        return this.products == null || this.products.length === 0;\r\n    }\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { OrderService } from '../services/OrderService';\r\nimport { Product } from '../entities/Product';\r\nimport { Order } from '../entities/Order';\r\nimport { AuthService } from 'aurelia-authentication';\r\nimport * as jwt_decode from 'jwt-decode';\r\n\r\n@autoinject\r\nexport class orderlist {    \r\n\r\n    orders: Order[] = []; \r\n    products: Product[] = [];\r\n\r\n    selectedOrder : number;\r\n  \r\n    constructor(private OrderService: OrderService, private auth: AuthService) { }\r\n\r\n    async attached() {\r\n        let userid = jwt_decode(this.auth.getAccessToken()).userid;\r\n\r\n        this.orders = await this.OrderService.getOrdersByUser(userid);\r\n\r\n        if (!this.isOrderEmpty)\r\n        {\r\n            await this.selectOrder(this.orders[0].id);\r\n        }\r\n    }\r\n\r\n    get isOrderEmpty(): boolean {\r\n        return this.orders == null || this.orders.length === 0;\r\n    }\r\n\r\n    get isProductEmpty(): boolean {\r\n        return this.products == null || this.products.length === 0;\r\n    }\r\n    \r\n    async selectOrder(order: number) {\r\n        this.selectedOrder = order;\r\n        this.products = await this.OrderService.getProductsByOrder(order);\r\n    }\r\n\r\n}","import { autoinject } from 'aurelia-framework';\r\nimport { AuthService } from 'aurelia-authentication';\r\nimport { catalogService } from '../services/catalogService';\r\nimport { CartService } from '../services/CartService';\r\nimport { Product } from '../entities/Product';\r\nimport { Review } from '../entities/Review';\r\nimport * as jwt_decode from 'jwt-decode';\r\n\r\n@autoinject\r\nexport class ProductDetail {    \r\n\r\n    private product: Product;\r\n    private reviews: Review[];\r\n    private postedReview: Review;\r\n\r\n    constructor(private catalogService: catalogService, private auth: AuthService, private cartService: CartService)\r\n    {\r\n        this.postedReview = new Review();\r\n    }\r\n\r\n    async activate(params, routeConfig) {\r\n        this.product = await this.catalogService.getProduct(params.id);\r\n        this.reviews = await this.catalogService.getReviews(params.id);\r\n\r\n        if (this.auth.isAuthenticated()) {\r\n            let userid = jwt_decode(this.auth.getAccessToken()).userid;\r\n            let name = jwt_decode(this.auth.getAccessToken()).name;\r\n\r\n            this.postedReview.user = name;\r\n            this.postedReview.product = params.id;\r\n            for (let item of this.reviews) {\r\n                if (item.user == name) {\r\n                    this.postedReview = item;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    async addToCart() {\r\n        await this.cartService.addProduct(this.product);\r\n    }\r\n\r\n    async postReview() {\r\n        await this.catalogService.postReview(this.postedReview);\r\n        this.reviews = await this.catalogService.getReviews(this.product.id);\r\n    }\r\n}","import {bindable} from 'aurelia-framework';\r\n\r\nexport class ProductItem {\r\n  @bindable value;\r\n\r\n  valueChanged(newValue, oldValue) {\r\n\r\n  }\r\n}\r\n\r\n","import { bindable, computedFrom, autoinject } from 'aurelia-framework';\r\nimport { Product } from \"../entities/Product\";\r\nimport { CartService } from \"../services/CartService\";\r\n\r\n@autoinject\r\nexport class ShoppingCart {\r\n    value:Product[] = [];\r\n\r\n    constructor(private cartService: CartService) { }\r\n\r\n    get isEmpty(): boolean {\r\n        return this.value == null || this.value.length === 0;\r\n    }\r\n\r\n    get sum() {\r\n        let LocalSum = 0;\r\n        for (let v of this.value) {\r\n            LocalSum += v.price;\r\n        }\r\n        return LocalSum.toFixed(2);\r\n    }\r\n\r\n    async attached() {\r\n        this.value = await this.cartService.getCart();\r\n    }\r\n\r\n    async removeProduct(product: Product) {\r\n        await this.cartService.removeProduct(product.id);\r\n    }\r\n    \r\n}\r\n\r\n","export class Category {\r\n    id : number\r\n    subCategoryOf : number\r\n    name : string\r\n    text : string\r\n}","export class Format {\r\n    text: string\r\n}","export class Log {\r\n    id: number\r\n    user: string\r\n    product: number\r\n    action: string\r\n    date: number\r\n}","export class Order {\r\n    id : number\r\n    user : string \r\n    discountCode : string\r\n    price : number \r\n}","export class Product {\r\n    id : number         \r\n    name : string     \r\n    image : string    \r\n    location : string\r\n    price : number   \r\n    category : number   \r\n    isvisible  : boolean \r\n    author   : string\r\n    discount : string\r\n    text : string     \r\n}","export class Review {\r\n    user: string;\r\n    product: number;\r\n    text: string;\r\n    rating: number;\r\n}\r\n","export class Tag {\r\n    text: string\r\n}","export class User {\r\n    id: number;\r\n    username: string;\r\n    email: string;\r\n    isAdmin: boolean;\r\n}","import {FrameworkConfiguration} from 'aurelia-framework';\n\nexport function configure(config: FrameworkConfiguration) {\n  //config.globalResources([]);\n}\n","import { Product } from '../entities/Product';\r\n\r\n\r\nexport class CartService {\r\n\r\n    private isStorageSupported(): boolean {\r\n        return window.localStorage !== null;\r\n    }\r\n    \r\n    private static cart: Product[];\r\n\r\n    private cartKey: string = 'cart';\r\n\r\n    constructor() {\r\n         CartService.cart = [];\r\n    }\r\n\r\n    public async getCart(): Promise<Product[]> {\r\n        if (this.isStorageSupported()) {\r\n            let cart = JSON.parse(window.localStorage.getItem(this.cartKey));\r\n            if (cart != null)\r\n              CartService.cart = cart;\r\n        }\r\n\r\n        return CartService.cart;\r\n    }\r\n\r\n    public async addProduct(product: Product) {\r\n        if (product == null)\r\n            return\r\n        for (let v of CartService.cart) {\r\n            if (v.id === product.id) {\r\n                return\r\n            }\r\n        }\r\n\r\n        CartService.cart.push(product);\r\n\r\n        this.save();\r\n    }\r\n\r\n    public async removeProduct(product: number) {\r\n        for (let v of CartService.cart) {\r\n            if (v.id == product)\r\n            {\r\n                let index = CartService.cart.indexOf(v);\r\n                CartService.cart.splice(index, 1);\r\n                this.save();\r\n            }\r\n        }\r\n    }\n\n    public async emptyCart() {\n        CartService.cart = [];\n        this.save();\r\n    }\r\n\r\n    private save() {\r\n        if (this.isStorageSupported())\r\n            window.localStorage.setItem(this.cartKey, JSON.stringify(CartService.cart));\r\n    }\r\n}","import { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { autoinject } from 'aurelia-framework';\r\nimport { Category } from '../entities/Category';\r\nimport { Product } from '../entities/Product';\r\nimport { Review } from '../entities/Review';\r\n\r\n@autoinject\r\nexport class catalogService {\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    public async getPage(number: number): Promise<PageResponse> {\r\n        let response: Response = await this.http.fetch('/catalog/products', {\r\n            body: json({\r\n                \"Item1\": number\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async getPageWithCategory(number: number, category: number): Promise<PageResponse> {\r\n        let response: Response = await this.http.fetch('/catalog/category/products', {\r\n            body: json({\r\n                \"Item1\": number,\r\n                \"Item2\": category\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async getTopLevelCategories(): Promise<Category[]> {\r\n        let response: Response = await this.http.fetch('/catalog/categories');\r\n        return await response.json();\r\n    }\r\n\r\n    public async getProduct(Id: number): Promise<Product> {\r\n        let response: Response = await this.http.fetch('/catalog/product', {\r\n            body: json({\r\n                \"Item1\": Id\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async getReviews(Id: number): Promise<Review[]> {\r\n        let response: Response = await this.http.fetch('/catalog/reviews', {\r\n            body: json({\r\n                \"Item1\": Id\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async postReview(review: Review): Promise<void> {\r\n        await this.http.fetch('/catalog/reviews/post', { body: json(review) });\r\n    }\r\n}\r\n\r\nexport class PageResponse {\r\n    item1: Product[];\r\n    item2: number;\r\n}","import { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { autoinject } from 'aurelia-framework';\r\nimport { Product } from '../entities/Product';\r\n\r\nimport { Order } from '../entities/Order';\r\n\r\n@autoinject\r\nexport class OrderService {\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\n\n    public async addOrder(user: number, discount: string, products: Product[]) : Promise<boolean> {\n        let response: Response = await this.http.fetch('/order/add', {\r\n            body: json({\r\n                \"Item1\": user,\r\n                \"Item2\": discount,\r\n                \"Item3\": products\r\n            })\r\n        });\n        return response.ok;\r\n    }\r\n\r\n    public async getOrderedProducts(user: number): Promise<Product[]> {\r\n        let response: Response = await this.http.fetch('/order/products', {\r\n            body: json({\r\n                \"Item1\": user\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async getProductsByOrder(order: number): Promise<Product[]> {\r\n        let response: Response = await this.http.fetch('/order/products/order', {\r\n            body: json({\r\n                \"Item1\": order\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n\r\n    public async getOrdersByUser(user: number): Promise<Order[]> {\r\n        let response: Response = await this.http.fetch('/order/orders', {\r\n            body: json({\r\n                \"Item1\": user\r\n            })\r\n        });\r\n        return await response.json();\r\n    }\r\n}","import { HttpClient, json } from 'aurelia-fetch-client';\r\nimport { autoinject } from 'aurelia-framework';\r\nimport { User } from '../entities/User';\r\n\r\n@autoinject\r\nexport class UserService {\r\n\r\n    constructor(private http: HttpClient) {\r\n    }\r\n\r\n    public async Register(user: User, password: string): Promise<void> {\r\n        await this.http.fetch('/Auth/Register', {\r\n            body: json({\r\n                \"item1\": user,\r\n                \"item2\": password\r\n            })\r\n        });\r\n    }\r\n}","export class PriceValueConverter {\r\n    toView(value) {\r\n        if (typeof value !== \"number\")\r\n            value = parseFloat(value);\r\n        return '€'+value.toFixed(2);\r\n    }\r\n}",".product-description {\r\n  height: 150px;\r\n  overflow: hidden;\r\n}\r\n\r\n.product-panel {\r\n  height: 470px;\r\n}\r\n"],"sourceRoot":"../.."}